<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Math Club</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .card-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      margin-top: 0.5rem;
      padding: 0.25rem 0.65rem;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
    }
    .card-badge.high-score {
      background: #ede9fe;
      color: #7c3aed;
    }
    .card-badge.trophy-gold {
      background: #fef3c7;
      color: #92400e;
    }
    .card-badge.trophy-silver {
      background: #f1f5f9;
      color: #475569;
    }
  </style>
</head>
<body>
  <header>
    <h1>Math Club</h1>
  </header>

  <main>
    <div class="card-grid">
      <a href="activities/sharing-numbers.html" class="card sharing-numbers">
        <span class="icon">&#xF7;</span>
        <h2>Sharing Numbers</h2>
        <p>Explore how numbers can be split into equal groups.</p>
      </a>

      <a href="activities/cake-cutting.html" class="card cake-cutting">
        <span class="icon">&#x1F370;</span>
        <h2>Cake Cutting</h2>
        <p>Figure out fair ways to divide shapes into equal pieces.</p>
      </a>

      <a href="activities/four-coloring.html" class="card four-coloring">
        <span class="icon">&#x1F3A8;</span>
        <h2>Four Coloring</h2>
        <p>Color maps so no two neighbors share the same color.</p>
      </a>

      <a href="activities/number-bonds.html" class="card number-bonds">
        <span class="icon">&#x1F517;</span>
        <h2>Number Bonds</h2>
        <p>Discover the pairs that make up a number.</p>
      </a>
    </div>
  </main>

<script>
  var trophySvg = function(fill) {
    return '<svg width="16" height="16" viewBox="0 0 24 24" fill="' + fill + '" xmlns="http://www.w3.org/2000/svg">' +
      '<path d="M5 3h14v2h3v4c0 1.7-1.3 3-3 3h-.7A7 7 0 0 1 13 16.9V19h3v2H8v-2h3v-2.1A7 7 0 0 1 5.7 12H5c-1.7 0-3-1.3-3-3V5h3V3zm0 4H4v2c0 .6.4 1 1 1h.3A7 7 0 0 1 5 7zm14 0a7 7 0 0 1-.3 3H19c.6 0 1-.4 1-1V7h-1z"/>' +
      '</svg>';
  };

  // High-score badges
  var scoreActivities = [
    { selector: '.sharing-numbers', key: 'sharingNumbers_highScore' },
    { selector: '.cake-cutting',    key: 'cakeCutting_highScore' },
    { selector: '.number-bonds',    key: 'numberBonds_highScore' }
  ];
  scoreActivities.forEach(function(act) {
    var score = parseInt(localStorage.getItem(act.key));
    if (score > 0) {
      var card = document.querySelector(act.selector);
      var badge = document.createElement('span');
      badge.className = 'card-badge high-score';
      badge.textContent = 'Best: ' + score;
      card.appendChild(badge);
    }
  });

  // Four Coloring trophy
  try {
    var fc = JSON.parse(localStorage.getItem('fourColoring_completion'));
    if (Array.isArray(fc) && fc.length === 15 && fc.every(function(v) { return v > 0; })) {
      var allMin = fc.every(function(v) { return v === 2; });
      var card = document.querySelector('.four-coloring');
      var badge = document.createElement('span');
      badge.className = 'card-badge ' + (allMin ? 'trophy-gold' : 'trophy-silver');
      badge.innerHTML = trophySvg(allMin ? '#f59e0b' : '#94a3b8') + (allMin ? 'Perfect!' : 'Complete');
      card.appendChild(badge);
    }
  } catch(e) {}
</script>
</body>
</html>
